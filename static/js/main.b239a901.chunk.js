(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{111:function(e,t){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(26),r=a.n(i),o=(a(68),a(4)),l=a(5),c=a(7),u=a(6),d=a(1),m=a(10),p=a(11),h=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function E(e){return h.test(e)}function b(e){return void 0!==e&&e.length>=8}function v(e){var t=e.onSubmit,a=e.children,s=e.autoComplete;return n.createElement("form",{autoComplete:s,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),t())},onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t()}},a)}var f,g=a(3),N=a(9),y=a.n(N),O=a(13);!function(e){e.SECONDARY="secondary",e.SUCCESS="success",e.INFO="info",e.WARNING="warning",e.DANGER="danger"}(f||(f={}));var T,S=function(e){return{type:"NOTIFY",payload:{notification:e}}};!function(e){e[e.CHECK_LOGIN_STATE=0]="CHECK_LOGIN_STATE",e[e.LOGIN=1]="LOGIN",e[e.REGISTER=2]="REGISTER",e[e.UPDATE_EMAIL=3]="UPDATE_EMAIL",e[e.DELETE_ACCOUNT=4]="DELETE_ACCOUNT",e[e.CHANGE_PASSWORD=5]="CHANGE_PASSWORD",e[e.RECOVER_PASSWORD=6]="RECOVER_PASSWORD",e[e.LOGOUT=7]="LOGOUT"}(T||(T={}));var C,w=function(e){return{type:"AUTH_TRANSACTION_BEGIN",payload:{transactionType:e}}},A=function(){return{type:"AUTH_TRANSACTION_SUCCESS"}},k=function(e){return{type:"AUTH_TRANSACTION_FAILURE",payload:{error:e}}},M=function(e){return{type:"ADD_LOGGED_USER",payload:{user:e}}},j=function(){return{type:"REMOVE_LOGGED_USER"}},_=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleEmailChange=function(e){n.setState(Object(d.a)({},n.state,{email:e.target.value,isEmailValid:E(e.target.value)}))},n.handlePasswordChange=function(e){n.setState(Object(d.a)({},n.state,{password:e.target.value,isPasswordValid:b(e.target.value)}))},n.handleSubmit=function(e){var t,a;n.props.dispatch((t=n.state.email,a=n.state.password,function(){var e=Object(O.a)(y.a.mark((function e(n,s){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(w(T.REGISTER)),e.prev=1,e.next=4,s().auth.krypton.register(t,a);case 4:n(A()),n(S({message:"Register successful!",date:new Date,type:f.SUCCESS})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(k(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()))},n.handleNotificationClick=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"})},n.handleCloseModal=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"}),n.props.close()},n.state={isEmailValid:!1,isPasswordValid:!1,email:"",password:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=""!==this.state.email&&!this.state.isEmailValid,t=""!==this.state.email&&this.state.isEmailValid,a=""!==this.state.password&&!this.state.isPasswordValid,n=""!==this.state.password&&this.state.isPasswordValid;return s.a.createElement("div",{className:this.props.isActive?"modal is-active":"modal"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Sign up"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:this.handleCloseModal})),s.a.createElement("section",{className:"modal-card-body"},null!==this.props.localErrorMessage&&this.props.transactionType===T.REGISTER&&s.a.createElement("div",{className:"notification is-danger"},s.a.createElement("button",{type:"button",className:"delete",onClick:this.handleNotificationClick}),this.props.localErrorMessage),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Email"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:e?"input is-danger":t?" input is-success":"input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.b})),e&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.c})),t&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.a}))),e&&s.a.createElement("p",{className:"help is-danger"},"This email is invalid"),t&&s.a.createElement("p",{className:"help is-success"},"This email is valid")),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:a?"input is-danger":n?" input is-success":"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handlePasswordChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.d})),a&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.c})),n&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.a}))),a&&s.a.createElement("p",{className:"help is-danger"},"This password is invalid"),n&&s.a.createElement("p",{className:"help is-success"},"This password is valid")),"Already have an account?"," ",s.a.createElement("button",{className:"button-link",onClick:this.props.openloginModal,type:"button"},"log-in"),"."),s.a.createElement("footer",{className:"modal-card-foot"},this.props.isTransactionLoading&&this.props.transactionType===T.REGISTER?s.a.createElement("button",{className:"button is-link is-loading"},"Submit"):s.a.createElement("button",{className:"button is-link",onSubmit:this.handleSubmit},"Submit"),s.a.createElement("button",{className:"button",type:"button",onClick:this.handleCloseModal},"Cancel")))))}}]),a}(n.Component),D=Object(g.b)((function(e,t){return{isActive:t.isActive,close:t.close,openloginModal:t.openloginModal,isTransactionLoading:e.auth.isTransactionLoading,localErrorMessage:e.auth.localErrorMessage,transactionType:e.auth.transactionType}}))(_),R=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleEmailChange=function(e){n.setState({email:e.target.value})},n.handleSubmit=function(e){var t;n.props.dispatch((t=n.state.email,function(){var e=Object(O.a)(y.a.mark((function e(a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(w(T.RECOVER_PASSWORD)),e.prev=1,e.next=4,n().auth.krypton.recoverPassword(t);case 4:a(A()),a(S({message:"If your email exists you will receive an email shortly to recover your password.",date:new Date,type:f.INFO})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(k(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()))},n.handleNotificationClick=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"})},n.state={email:""},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.isActive?"modal is-active":"modal"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Recover your password"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:this.props.close})),s.a.createElement("section",{className:"modal-card-body"},null!==this.props.localErrorMessage&&this.props.transactionType===T.RECOVER_PASSWORD&&s.a.createElement("div",{className:"notification is-danger"},s.a.createElement("button",{type:"button",className:"delete",onClick:this.handleNotificationClick}),this.props.localErrorMessage),s.a.createElement("div",null,"Enter your address below, and we\u2019ll email you instructions for setting a new password."),s.a.createElement("div",{className:"field",style:{marginTop:"10px"}},s.a.createElement("label",{className:"label"},"Email"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.b}))))),s.a.createElement("footer",{className:"modal-card-foot"},this.props.isTransactionLoading&&this.props.transactionType===T.RECOVER_PASSWORD?s.a.createElement("button",{className:"button is-link is-loading"},"Submit"):s.a.createElement("button",{className:"button is-link",onSubmit:this.handleSubmit},"Submit"),s.a.createElement("button",{className:"button",type:"button",onClick:this.props.close},"Cancel")))))}}]),a}(n.Component),L=Object(g.b)((function(e,t){return{isActive:t.isActive,close:t.close,isTransactionLoading:e.auth.isTransactionLoading,localErrorMessage:e.auth.localErrorMessage,transactionType:e.auth.transactionType}}))(R),x=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleEmailChange=function(e){n.setState(Object(d.a)({},n.state,{email:e.target.value}))},n.handlePasswordChange=function(e){n.setState(Object(d.a)({},n.state,{password:e.target.value}))},n.handleSubmit=function(e){var t,a;n.props.dispatch((t=n.state.email,a=n.state.password,function(){var e=Object(O.a)(y.a.mark((function e(n,s){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s().auth.krypton,n(w(T.LOGIN)),e.prev=2,e.next=5,i.login(t,a);case 5:n(A()),n(M(i.getUser())),n(S({message:"Log-in successful!",date:new Date,type:f.SUCCESS})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n(k(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()))},n.handleNotificationClick=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"})},n.handleCloseModal=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"}),n.props.close()},n.state={password:"",email:""},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.isActive?"modal is-active":"modal"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Log-in"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:this.handleCloseModal})),s.a.createElement("section",{className:"modal-card-body"},null!==this.props.localErrorMessage&&this.props.transactionType===T.LOGIN&&s.a.createElement("div",{className:"notification is-danger"},s.a.createElement("button",{type:"button",className:"delete",onClick:this.handleNotificationClick}),this.props.localErrorMessage),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Email"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.b})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handlePasswordChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.d})))),s.a.createElement("button",{className:"button-link",onClick:this.props.openRecoverPasswordModalModal,type:"button"},"Password forgotten?"),s.a.createElement("hr",null),s.a.createElement("div",{style:{textAlign:"center"}},"No account yet?"," ",s.a.createElement("button",{className:"button-link",onClick:this.props.openSignupModal,type:"button"},"Sign up"),".")),s.a.createElement("footer",{className:"modal-card-foot"},this.props.isTransactionLoading&&this.props.transactionType===T.LOGIN?s.a.createElement("button",{className:"button is-link is-loading"},"Submit"):s.a.createElement("button",{className:"button is-link",onSubmit:this.handleSubmit},"Submit"),s.a.createElement("button",{className:"button",type:"button",onClick:this.handleCloseModal},"Cancel")))))}}]),a}(n.Component),I=Object(g.b)((function(e,t){return{isActive:t.isActive,close:t.close,openRecoverPasswordModalModal:t.openRecoverPasswordModalModal,openSignupModal:t.openSignupModal,isTransactionLoading:e.auth.isTransactionLoading,localErrorMessage:e.auth.localErrorMessage,transactionType:e.auth.transactionType}}))(x),P=a(18),U=a(19),G=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).openSignupModal=function(e){n.setState(Object(d.a)({},n.state,{loginModal:!1,recoverPasswordModal:!1,signUpModal:!0}))},n.closeModals=function(e){n.setState(Object(d.a)({},n.state,{loginModal:!1,recoverPasswordModal:!1,signUpModal:!1}))},n.openLoginModal=function(e){n.setState(Object(d.a)({},n.state,{loginModal:!0,recoverPasswordModal:!1,signUpModal:!1}))},n.openRecoverPasswordModalModal=function(e){n.setState(Object(d.a)({},n.state,{loginModal:!1,recoverPasswordModal:!0,signUpModal:!1}))},n.logOut=function(e){n.props.dispatch((function(e,t){e(j())})),n.props.history.push("/")},n.setIsBurgerMenuActive=function(e){n.setState(Object(d.a)({},n.state,{isBurgerMenuActive:!n.state.isBurgerMenuActive}))},n.render=function(){var e;return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",style:{boxShadow:"0 3px 3px -2px rgba(0,0,0,.2)"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("a",{className:"navbar-item",href:"https://krypton-org.github.io/krypton-web-demo/"},s.a.createElement("img",{src:"https://github.com/krypton-org/krypton-web/raw/master/img/logo-krypton-web.png",width:"30",height:"30",alt:"krypton web logo"})),s.a.createElement("a",{onClick:n.setIsBurgerMenuActive,role:"button",className:"navbar-burger burger ".concat(n.state.isBurgerMenuActive?"is-active":""),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(n.state.isBurgerMenuActive?"is-active":"")},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(P.b,{className:"navbar-item",to:"/"},"Home"),s.a.createElement(P.b,{className:"navbar-item",to:"/todos"},"Todos")),s.a.createElement("div",{className:"navbar-end"},n.props.isLoggedIn?s.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},s.a.createElement("a",{className:"navbar-link"},null===(e=n.props.user)||void 0===e?void 0:e.email),s.a.createElement("div",{className:"navbar-dropdown"},s.a.createElement(P.b,{className:"navbar-item",to:"/settings"},"Settings"),s.a.createElement("a",{className:"navbar-item",onClick:n.logOut},"Log out"))):s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement("a",{className:"button is-primary",onClick:n.openSignupModal},s.a.createElement("strong",null,"Sign up")),s.a.createElement("a",{className:"button is-light",onClick:n.openLoginModal},"Log-in"))))))),s.a.createElement(D,{isActive:n.state.signUpModal,close:n.closeModals,openloginModal:n.openLoginModal}),s.a.createElement(L,{isActive:n.state.recoverPasswordModal,close:n.closeModals}),s.a.createElement(I,{isActive:n.state.loginModal,close:n.closeModals,openRecoverPasswordModalModal:n.openRecoverPasswordModalModal,openSignupModal:n.openSignupModal}))},n.state={loginModal:!1,signUpModal:!1,recoverPasswordModal:!1,isBurgerMenuActive:!1},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.isTransactionLoading&&!this.props.isTransactionLoading&&this.props.isTransactionSuccess&&this.closeModals()}}]),a}(n.Component),V=Object(U.f)(Object(g.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user,isTransactionSuccess:e.auth.isTransactionSuccess,isTransactionLoading:e.auth.isTransactionLoading,transactionType:e.auth.transactionType}}))(G)),H=function(){return s.a.createElement("footer",{className:"footer",style:{backgroundColor:"#F3F3F3",paddingTop:"10px",paddingBottom:"0px",position:"fixed",bottom:"0",minHeight:"60px",width:"100%"}},s.a.createElement("div",{className:"content has-text-centered"},s.a.createElement("p",null,s.a.createElement("strong",null,"Krypton Web Demonstration"),". The source code is available under the"," ",s.a.createElement("a",{href:"https://github.com/krypton-org/krypton-web-demo/blob/master/LICENSE"},"MIT")," license.")))},B=function(){return s.a.createElement("div",null,s.a.createElement("section",{className:"hero is-primary"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title"},"Welcome to this React To-do list made with Krypton for authentication."),s.a.createElement("h2",{className:"subtitle"},"Register to add your todos!")))),s.a.createElement("div",{className:"container"},s.a.createElement("p",null,"This is just a demo, the database is purged each night. It aims to show how easy it is to use Krypton for website authentication."),s.a.createElement("p",null,"Check source on"," ",s.a.createElement("a",{href:"https://github.com/krypton-org/krypton-web-demo",target:"_blank",rel:"noopener noreferrer"},"GitHub"))))},W=(a(77),a(78),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.setState(Object(d.a)({},n.state,{hide:!0})),setTimeout((function(){n.props.remove(n.props.node)}),1e3)},n.state={hide:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e;this.state.hide&&(e={opacity:0,display:"none"});return s.a.createElement("article",{style:Object(d.a)({},e,{},{transition:"all .5s ease-in-out"},{width:"300px"}),className:"message is-"+this.props.type.toString()},s.a.createElement("div",{className:"message-body"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column",dangerouslySetInnerHTML:{__html:this.props.message}}),s.a.createElement("div",{className:"column is-one-fifth is-vven"},s.a.createElement("button",{className:"delete","aria-label":"delete",onClick:this.handleClick})))))}}]),a}(n.Component)),F=(a(79),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).add=function(e){if(null!==e){var t={firstEl:null,lastEl:null,lastNotification:e},a={element:e,prev:null,next:null};null==n.state.firstEl||null==n.state.lastEl?(t.firstEl=a,t.lastEl=a):(n.connect(n.state.lastEl,a),t.firstEl=n.state.firstEl,t.lastEl=a),n.setState(t)}},n.connect=function(e,t){e.next=t,t.prev=e},n.remove=function(e){var t={firstEl:n.state.firstEl,lastEl:n.state.firstEl,lastNotification:n.state.lastNotification};e.prev&&e.next?n.connect(e.prev,e.next):e.prev?(e.prev.next=null,t.lastEl=e.prev,t.firstEl=n.state.firstEl):e.next?(e.next.prev=null,t.lastEl=n.state.lastEl,t.firstEl=e.next):(t.lastEl=null,t.firstEl=null),n.setState(t)},n.state={lastNotification:null,firstEl:null,lastEl:null},n.props.notification&&n.add(n.props.notification),n}return Object(l.a)(a,[{key:"isNotificationNew",value:function(e){return null!==e&&e!==this.state.lastNotification}},{key:"componentDidUpdate",value:function(){this.isNotificationNew(this.props.notification)&&this.add(this.props.notification)}},{key:"render",value:function(){for(var e=this,t=[],a=this.state.firstEl,n=0;a&&n<15;)t.push(s.a.createElement(W,{node:a,message:a.element.message,type:a.element.type,date:a.element.date,key:a.element.date.getTime(),remove:function(t){e.remove(t)}})),a=a.next,++n;return s.a.createElement("div",{className:"toast-container"},t)}}]),a}(n.Component)),$=Object(g.b)((function(e){return{notification:e.notifier.lastNotification}}))(F),K=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n,s,i;return Object(o.a)(this,a),(i=t.call(this,e)).handleEmailChange=function(e){i.setState(Object(d.a)({},i.state,{email:e.target.value,isEmailValid:E(e.target.value)}))},i.handleSubmit=function(e){var t;E(i.state.email)&&i.props.dispatch((t=i.state.email,function(){var e=Object(O.a)(y.a.mark((function e(a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(w(T.UPDATE_EMAIL)),e.prev=1,e.next=4,n().auth.krypton.update({email:t});case 4:a(A()),a(M(n().auth.krypton.getUser())),a(S({message:"Email successfully updated.",date:new Date,type:f.SUCCESS})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a(k()),a(S({message:e.t0.message,date:new Date,type:f.DANGER}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},i.handleEdit=function(e){i.setState(Object(d.a)({},i.state,{isEditionModeEnabled:!0}))},i.handleCancelEdit=function(e){i.setState(Object(d.a)({},i.state,{isEditionModeEnabled:!1}))},i.state={isEmailValid:!1,email:(null===(n=e.user)||void 0===n?void 0:n.email)?null===(s=e.user)||void 0===s?void 0:s.email:"",isEditionModeEnabled:!1},i}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.isTransactionLoading&&!this.props.isTransactionLoading&&this.props.transactionType===T.UPDATE_EMAIL&&this.setState(Object(d.a)({},this.state,{isEditionModeEnabled:!1}))}},{key:"render",value:function(){var e,t,a,n=this.state.email!==(null===(e=this.props.user)||void 0===e?void 0:e.email)&&!this.state.isEmailValid,i=this.state.email!==(null===(t=this.props.user)||void 0===t?void 0:t.email)&&this.state.isEmailValid,r=!E(this.state.email),o="button is-link ";return this.props.isTransactionLoading&&this.props.transactionType===T.UPDATE_EMAIL&&(o+="is-loading"),s.a.createElement("div",null,s.a.createElement("h2",{className:"subtitle"},"Update your email"),s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},this.state.isEditionModeEnabled?s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:n?"input is-danger":i?" input is-success":"input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.b})),n&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.c})),i&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.a})),n&&s.a.createElement("p",{className:"help is-danger"},"This email is invalid"),i&&s.a.createElement("p",{className:"help is-success"},"This email is valid")):s.a.createElement("div",null,null===(a=this.props.user)||void 0===a?void 0:a.email)),s.a.createElement("div",{className:"column"},!this.state.isEditionModeEnabled&&s.a.createElement("button",{className:"button",type:"button",onClick:this.handleEdit},"Edit"),this.state.isEditionModeEnabled&&s.a.createElement("div",null,s.a.createElement("button",{className:o,disabled:r,style:{marginRight:"5px"}},"Submit"),s.a.createElement("button",{className:"button",type:"button",onClick:this.handleCancelEdit},"Cancel"))))))}}]),a}(n.Component),z=Object(g.b)((function(e){return{isTransactionLoading:e.auth.isTransactionLoading,transactionType:e.auth.transactionType,user:e.auth.user}}))(K),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleActualPasswordChange=function(e){n.setState(Object(d.a)({},n.state,{actualPassword:e.target.value}))},n.handleNewPasswordChange=function(e){n.setState(Object(d.a)({},n.state,{newPassword:e.target.value,isPasswordValid:b(e.target.value)}))},n.handleSubmit=function(e){var t,a;b(n.state.newPassword)&&n.props.dispatch((t=n.state.actualPassword,a=n.state.newPassword,function(){var e=Object(O.a)(y.a.mark((function e(n,s){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(w(T.CHANGE_PASSWORD)),e.prev=1,e.next=4,s().auth.krypton.changePassword(t,a);case 4:n(A()),n(S({message:"Your password has been changed.",date:new Date,type:f.SUCCESS})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n(k()),n(S({message:e.t0.message,date:new Date,type:f.DANGER}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()))},n.state={isPasswordValid:!1,actualPassword:"",newPassword:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=""!==this.state.newPassword&&!this.state.isPasswordValid,t=""!==this.state.newPassword&&this.state.isPasswordValid,a=!b(this.state.newPassword)&&""!==this.state.actualPassword,n="button is-link ";return this.props.isTransactionLoading&&this.props.transactionType===T.CHANGE_PASSWORD&&(n+="is-loading"),s.a.createElement("div",null,s.a.createElement("h2",{className:"subtitle"},"Change your password"),s.a.createElement(v,{autoComplete:"off",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"control has-icons-left has-icons-right",style:{marginBottom:"15px"}},s.a.createElement("input",{autoComplete:"off",className:"input",type:"password",placeholder:"Actual password",value:this.state.actualPassword,onChange:this.handleActualPasswordChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.d}))),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{autoComplete:"off",className:e?"input is-danger":t?" input is-success":"input",type:"password",placeholder:"New password",value:this.state.newPassword,onChange:this.handleNewPasswordChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.d})),e&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.c})),t&&s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:p.a})),e&&s.a.createElement("p",{className:"help is-danger"},"This password is invalid"),t&&s.a.createElement("p",{className:"help is-success"},"This password is valid"))),s.a.createElement("div",{className:"column"},s.a.createElement("button",{className:n,disabled:a},"Submit")))))}}]),a}(n.Component),Y=Object(g.b)((function(e){return{isTransactionLoading:e.auth.isTransactionLoading,transactionType:e.auth.transactionType}}))(q),J=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handlePasswordChange=function(e){n.setState(Object(d.a)({},n.state,{password:e.target.value}))},n.handleSubmit=function(e){var t;n.props.dispatch((t=n.state.password,function(){var e=Object(O.a)(y.a.mark((function e(a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(w(T.DELETE_ACCOUNT)),e.prev=1,e.next=4,n().auth.krypton.delete(t);case 4:a(A()),a(S({message:"Your account has been deleted successfully.",date:new Date,type:f.SUCCESS})),a(j()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(k(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},n.handleNotificationClick=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"})},n.handleCloseModal=function(e){n.props.dispatch({type:"REMOVE_MODALS_ERROR_MESSAGES"}),n.props.close()},n.state={password:""},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.isTransactionSuccess&&this.props.transactionType===T.DELETE_ACCOUNT&&this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.isActive?"modal is-active":"modal"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Delete account"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:this.handleCloseModal})),s.a.createElement("section",{className:"modal-card-body"},null!==this.props.localErrorMessage&&this.props.transactionType===T.DELETE_ACCOUNT&&s.a.createElement("div",{className:"notification is-danger"},s.a.createElement("button",{type:"button",className:"delete",onClick:this.handleNotificationClick}),this.props.localErrorMessage),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Enter your password"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handlePasswordChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(m.a,{icon:p.d}))))),s.a.createElement("footer",{className:"modal-card-foot"},this.props.isTransactionLoading&&this.props.transactionType===T.DELETE_ACCOUNT?s.a.createElement("button",{className:"button is-link is-loading"},"Submit"):s.a.createElement("button",{className:"button is-link",onSubmit:this.handleSubmit},"Submit"),s.a.createElement("button",{className:"button",type:"button",onClick:this.handleCloseModal},"Cancel")))))}}]),a}(n.Component),Z=Object(U.f)(Object(g.b)((function(e,t){return{isActive:t.isActive,close:t.close,isTransactionLoading:e.auth.isTransactionLoading,localErrorMessage:e.auth.localErrorMessage,transactionType:e.auth.transactionType,isTransactionSuccess:e.auth.isTransactionSuccess}}))(J)),Q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.setState({deleteAccountModal:!0})},n.closeModals=function(e){n.setState({deleteAccountModal:!1})},n.state={deleteAccountModal:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"columns",style:{marginTop:"50px"}},s.a.createElement("div",{className:"column is-half"},s.a.createElement("article",{className:"message is-danger"},s.a.createElement("div",{className:"message-header"},s.a.createElement("p",null,"Danger Zone")),s.a.createElement("div",{className:"message-body"},s.a.createElement("button",{className:"button is-danger is-outlined",onClick:this.handleClick},"Delete account")))),s.a.createElement(Z,{isActive:this.state.deleteAccountModal,close:this.closeModals}))}}]),a}(n.Component),X=Object(g.b)((function(e){return{user:e.auth.user}}))(Q),ee=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title"},"Settings"),s.a.createElement(z,null),s.a.createElement(Y,null),s.a.createElement(X,null))},te=a(40);!function(e){e[e.ADD_TODO=0]="ADD_TODO",e[e.DELETE_TODO=1]="DELETE_TODO",e[e.UPDATE_TODO=2]="UPDATE_TODO",e[e.FETCH_TODO=3]="FETCH_TODO"}(C||(C={}));var ae=function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a,n){var s,i,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(se(C.DELETE_TODO)),t.prev=1,s=ue(e),t.next=5,oe(n().auth.krypton.getAuthorizationHeader(),s);case 5:if((i=t.sent).errors){t.next=11;break}r=n().todo.list.filter((function(e){return e._id!==i.data.todoRemoveById.record._id})),a(ie(r)),t.next=12;break;case 11:throw new Error("Transaction failed");case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),a(re()),a(S({message:t.t0.message,date:new Date,type:f.DANGER}));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,a){return t.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a,n){var s,i,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(se(C.UPDATE_TODO)),t.prev=1,s=de(e),t.next=5,oe(n().auth.krypton.getAuthorizationHeader(),s);case 5:if((i=t.sent).errors){t.next=11;break}r=i.data.todoUpdateById.record,a(ie(n().todo.list.map((function(e){return e._id===r._id?r:e})))),t.next=12;break;case 11:throw new Error("Transaction failed");case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),a(re()),a(S({message:t.t0.message,date:new Date,type:f.DANGER}));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,a){return t.apply(this,arguments)}}()},se=function(e){return{type:"TODO_TRANSACTION_BEGIN",payload:{transactionType:e}}},ie=function(e){return{type:"TODO_TRANSACTION_SUCCESS",payload:{todos:e}}},re=function(){return{type:"TODO_TRANSACTION_FAILURE"}};function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(O.a)(y.a.mark((function e(t,a){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={"Content-Type":"application/json"}).Authorization=t,e.next=4,fetch("https://nusid.net/todos",{method:"POST",headers:n,credentials:"include",body:JSON.stringify(a)}).then((function(e){return e.json()}));case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=function(e,t){return{query:"mutation todoCreateOne($text: String!, $userId: String!) {\n            todoCreateOne(record: {text: $text, userId: $userId}) {\n                record{\n                    text\n                    isCompleted\n                    date\n                    _id\n                }\n            }\n        }",variables:{text:e,userId:t}}},ue=function(e){return{query:"mutation todoRemoveById($id: MongoID!){\n            todoRemoveById(_id: $id){\n                record{\n                    text\n                    isCompleted\n                    date\n                    _id\n                }\n            }\n        }",variables:{id:e}}},de=function(e){return{query:"mutation todoUpdateById($id: MongoID!){\n            todoUpdateById(record:{_id: $id, isCompleted: true}){\n                record{\n                    text\n                    isCompleted\n                    date\n                    _id      \n                }\n            }\n        }",variables:{id:e}}},me=function(e){return{query:"query todoMany($userId: String!){\n            todoMany(filter: {userId: $userId}){\n                text\n                isCompleted\n                date\n                _id\n            }\n        }",variables:{userId:e}}},pe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){n.setState(Object(d.a)({},n.state,{text:e.target.value}))},n.handleSubmit=function(e){var t;""!==n.state.text&&(n.props.dispatch((t=n.state.text,function(){var e=Object(O.a)(y.a.mark((function e(a,n){var s,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(se(C.ADD_TODO)),e.prev=1,s=ce(t,n().auth.krypton.getUser()._id),e.next=5,oe(n().auth.krypton.getAuthorizationHeader(),s);case 5:if((i=e.sent).errors){e.next=11;break}r=i.data.todoCreateOne.record,a(ie([r].concat(Object(te.a)(n().todo.list)))),e.next=12;break;case 11:throw new Error("Transaction failed");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),a(re()),a(S({message:e.t0.message,date:new Date,type:f.DANGER}));case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}())),n.setState({text:""}))},n.state={text:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=""===this.state.text,t="button is-link ";return this.props.isTransactionLoading&&this.props.transactionType===C.ADD_TODO&&(t+="is-loading"),s.a.createElement("div",null,s.a.createElement(v,{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"columns is-vcentered"},s.a.createElement("div",{className:"column is-vcentered has-text-right"},s.a.createElement("h2",{className:"subtitle"},"Add a todo")),s.a.createElement("div",{className:"column is-vcentered"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Enter a todo",value:this.state.text,onChange:this.handleTextChange}))),s.a.createElement("div",{className:"column"},s.a.createElement("button",{className:t,disabled:e},"Add")))))}}]),a}(n.Component),he=Object(g.b)((function(e){return{isTransactionLoading:e.todo.isTransactionLoading,transactionType:e.todo.transactionType}}))(pe),Ee=a(58),be=a.n(Ee),ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).handleClose=function(t){e.props.dispatch(ae(e.props.data._id))},e.handleCompleted=function(t){e.props.dispatch(ne(e.props.data._id))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=new Date(this.props.data.date);return s.a.createElement("tr",null,s.a.createElement("td",{className:"has-text-centered",style:{verticalAlign:"middle"}},this.props.data.isCompleted?s.a.createElement(m.a,{icon:p.a,style:{color:"green"}}):s.a.createElement("button",{className:"button is-info is-outlined is-small",onClick:this.handleCompleted},"Done")),s.a.createElement("td",{style:{verticalAlign:"middle"}},this.props.data.text),s.a.createElement("td",{style:{verticalAlign:"middle"}},s.a.createElement(be.a,{date:e,minPeriod:10})),s.a.createElement("td",{style:{verticalAlign:"middle"}},s.a.createElement("button",{className:"delete",onClick:this.handleClose})))}}]),a}(n.Component),fe=Object(g.b)()(ve),ge=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.list.map((function(e){return s.a.createElement(fe,{data:e})}));return s.a.createElement("table",{className:"table is-fullwidth"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"has-text-centered",style:{width:"15%"}},"Status"),s.a.createElement("th",{className:"is-two-fifths",style:{width:"60%"}},"Todo"),s.a.createElement("th",{style:{width:"20%"}},"Date"),s.a.createElement("th",{style:{width:"5%"}}))),s.a.createElement("tbody",null,e))}}]),a}(n.Component),Ne=Object(g.b)((function(e){return{list:e.todo.list}}))(ge),ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch(function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se(C.FETCH_TODO)),e.prev=1,n=me(a().auth.krypton.getUser()._id),e.next=5,oe(a().auth.krypton.getAuthorizationHeader(),n);case 5:if((s=e.sent).errors){e.next=10;break}t(ie(Object(te.a)(s.data.todoMany))),e.next=11;break;case 10:throw new Error("Transaction failed");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),t(re()),t(S({message:e.t0.message,date:new Date,type:f.DANGER}));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title"},"Todos"),s.a.createElement(he,null),s.a.createElement(Ne,null))}}]),a}(n.Component),Oe=Object(g.b)()(ye),Te=a(62),Se=Object(g.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.children,a=e.isLoggedIn,n=e.dispatch,i=Object(Te.a)(e,["children","isLoggedIn","dispatch"]);return s.a.createElement(U.b,Object.assign({},i,{render:function(e){var i=e.location;return a||(n(S({message:"Please log-in",date:new Date,type:f.WARNING})),0)?t:s.a.createElement(U.a,{to:{pathname:"/",state:{from:i}}})}}))})),Ce=a(59),we=a.n(Ce),Ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).socket=void 0,e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.socket=we()("https://nusid.net/"),this.socket.on("notification",(function(t){e.props.dispatch(S({message:t.title+" "+t.message,date:new Date,type:f.INFO}))})),this.props.dispatch((function(e,t){Object(O.a)(y.a.mark((function a(){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(w(T.CHECK_LOGIN_STATE)),a.next=3,t().auth.krypton.isLoggedIn();case 3:n=a.sent,e(A()),n&&e(M(t().auth.krypton.getUser()));case 6:case"end":return a.stop()}}),a)})))()}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){if(this.props.isTransactionLoading&&this.props.transactionType===T.CHECK_LOGIN_STATE){return s.a.createElement("h1",{style:{position:"fixed",top:"50%",left:"50%"}},"Loading...")}return s.a.createElement(P.a,null,s.a.createElement(V,null),s.a.createElement($,null),s.a.createElement(U.b,{exact:!0,path:"/"},s.a.createElement(B,null)),s.a.createElement(Se,{path:"/settings"},s.a.createElement(ee,null)),s.a.createElement(Se,{path:"/todos"},s.a.createElement(Oe,null)),s.a.createElement(H,null))}}]),a}(n.Component),ke=Object(g.b)((function(e){return{isTransactionLoading:e.auth.isTransactionLoading,transactionType:e.auth.transactionType}}))(Ae);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=a(20),je=a(60),_e=a(61),De={user:null,krypton:new(a.n(_e).a)("https://nusid.net/krypton-auth"),isLoggedIn:!1,isTransactionLoading:!1,isTransactionSuccess:!1,localErrorMessage:null,transactionType:null};var Re={lastNotification:null};var Le={isTransactionLoading:!1,isTransactionSuccess:!1,transactionType:null,list:[]};var xe=Object(Me.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_TRANSACTION_BEGIN":return Object(d.a)({},e,{isTransactionLoading:!0,isTransactionSuccess:!1,transactionType:t.payload.transactionType});case"AUTH_TRANSACTION_FAILURE":return Object(d.a)({},e,{isTransactionLoading:!1,isTransactionSuccess:!1,localErrorMessage:t.payload.error});case"AUTH_TRANSACTION_SUCCESS":return Object(d.a)({},e,{isTransactionLoading:!1,isTransactionSuccess:!0,localErrorMessage:null});case"ADD_LOGGED_USER":return Object(d.a)({},e,{isLoggedIn:!0,user:t.payload.user});case"REMOVE_LOGGED_USER":return Object(d.a)({},e,{isLoggedIn:!1,user:null});case"REMOVE_MODALS_ERROR_MESSAGES":return Object(d.a)({},e,{localErrorMessage:null});default:return e}},notifier:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":return{lastNotification:t.payload.notification};default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO_TRANSACTION_BEGIN":return Object(d.a)({},e,{isTransactionLoading:!0,isTransactionSuccess:!1,transactionType:t.payload.transactionType});case"TODO_TRANSACTION_FAILURE":return Object(d.a)({},e,{isTransactionLoading:!1,isTransactionSuccess:!1,transactionType:null});case"TODO_TRANSACTION_SUCCESS":return Object(d.a)({},e,{isTransactionLoading:!1,isTransactionSuccess:!0,transactionType:null,list:t.payload.todos});default:return e}}}),Ie=Object(Me.d)(xe,Object(Me.a)(je.a));r.a.render(s.a.createElement(g.a,{store:Ie},s.a.createElement(s.a.StrictMode,null,s.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a(117)},68:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.b239a901.chunk.js.map